
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="MemberReservation">
   <resultMap type="MemberReservation" id="MemberReservationResultSet">
      <id property="oId" column="O_ID"/>
      <result property="rSdate" column="R_SDATE"/>
      <result property="rEdate" column="R_EDATE"/>
      <result property="people" column="PEOPLE"/>
      <result property="oRcount" column="O_RCOUNT"/>
   </resultMap>
  
   <select id="selectReservationHistory" resultMap="MemberReservationResultSet" parameterType="_int">
   	SELECT O_ID,R_SDATE,R_EDATE,PEOPLE,O_RCOUNT
	FROM RESERVATION R
	JOIN PAYMENT P ON(R.PA_ID = P.PA_ID)
	WHERE P.M_ID=#{mId}
   </select>
  
</mapper>